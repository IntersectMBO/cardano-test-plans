<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-inventory/cardano-cli/cardano-cli-ac" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.1.1">
<title data-rh="true">Cardano-CLI acceptance criteria | CIP-1694 Test Plans</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://intersectMBO.github.io/cardano-test-plans/img/cardano-logo.png"><meta data-rh="true" name="twitter:image" content="https://intersectMBO.github.io/cardano-test-plans/img/cardano-logo.png"><meta data-rh="true" property="og:url" content="https://intersectMBO.github.io/cardano-test-plans/cli-acceptance"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Cardano-CLI acceptance criteria | CIP-1694 Test Plans"><meta data-rh="true" name="description" content="AC-CLI.001 Obtain constitution hash for verification (HOLDER) {#AC-CLI.001}"><meta data-rh="true" property="og:description" content="AC-CLI.001 Obtain constitution hash for verification (HOLDER) {#AC-CLI.001}"><link data-rh="true" rel="icon" href="/cardano-test-plans/img/cardano.ico"><link data-rh="true" rel="canonical" href="https://intersectMBO.github.io/cardano-test-plans/cli-acceptance"><link data-rh="true" rel="alternate" href="https://intersectMBO.github.io/cardano-test-plans/cli-acceptance" hreflang="en"><link data-rh="true" rel="alternate" href="https://intersectMBO.github.io/cardano-test-plans/cli-acceptance" hreflang="x-default"><link rel="stylesheet" href="/cardano-test-plans/assets/css/styles.72338d5c.css">
<script src="/cardano-test-plans/assets/js/runtime~main.a9940e4f.js" defer="defer"></script>
<script src="/cardano-test-plans/assets/js/main.f89a80e5.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/cardano-test-plans/"><div class="navbar__logo"><img src="/cardano-test-plans/img/cardano-logo.png" alt="CIP-1694 Test Plan" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/cardano-test-plans/img/cardano-logo-darkmode.png" alt="CIP-1694 Test Plan" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">CIP-1694 Testing Plan</b></a><a class="navbar__item navbar__link" href="/cardano-test-plans/about">User Story Inventory</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/IntersectMBO" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/cardano-test-plans/about">About</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/cardano-test-plans/CIP1694">User Story Inventory</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/cardano-test-plans/CIP1694">System level user stories</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" tabindex="0" href="/cardano-test-plans/cli-stories">Cardano-CLI</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/cardano-test-plans/cli-stories">Cardano-cli user stories</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/cardano-test-plans/cli-acceptance">Cardano-CLI acceptance criteria</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/cardano-test-plans/voltaire">GovTool user stories</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/cardano-test-plans/smart-contracts">Smart Contracts user stories</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/cardano-test-plans/cardano-wallet">Cardano-wallet user stories</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/cardano-test-plans/partner-chains">Partner Chains user stories</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/cardano-test-plans/governance-guardrails">Governance Guardrails</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/cardano-test-plans/contribution_guidelines">Contribution Guidelines</a></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/cardano-test-plans/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">User Story Inventory</span><meta itemprop="position" content="1"></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Cardano-CLI</span><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Cardano-CLI acceptance criteria</span><meta itemprop="position" content="3"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Cardano-CLI acceptance criteria</h1></header><h4 class="anchor anchorWithStickyNavbar_LWe7" id="AC-CLI.001">AC-CLI.001 Obtain constitution hash for verification (HOLDER)<a href="#AC-CLI.001" class="hash-link" aria-label="Direct link to AC-CLI.001 Obtain constitution hash for verification (HOLDER)" title="Direct link to AC-CLI.001 Obtain constitution hash for verification (HOLDER)">​</a></h4>
<table style="width:100%"><thead><tr><th style="width:45%">Requirements</th><th style="width:55%">Acceptance Criteria</th></tr></thead><tbody><tr><td style="width:45%"><span>When I provide the off-chain text or file of the Constitution, the cardano-cli calculates and returns the corresponding blake2b-256 hash of the document.</span></td><td style="width:55%"><span>The hash generated by the cli is equivalent to running:<br></span><span> $ b2sum -l 256 FILE</span></td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="AC-CLI.002">AC-CLI.002 Generate hash of the off-chain constitution for a proposal (HOLDER)<a href="#AC-CLI.002" class="hash-link" aria-label="Direct link to AC-CLI.002 Generate hash of the off-chain constitution for a proposal (HOLDER)" title="Direct link to AC-CLI.002 Generate hash of the off-chain constitution for a proposal (HOLDER)">​</a></h4>
<table style="width:100%"><thead><tr><th style="width:45%">Requirements</th><th style="width:55%">Acceptance Criteria</th></tr></thead><tbody><tr><td style="width:45%"><span>When I provide the off-chain text of the Constitution,<br></span><span>the cardano-cli calculates and returns the corresponding blake2b-256 hash of the document.</span></td><td style="width:55%"><span>The hash generated by the cli is equivalent to running:<br></span><span> $ b2sum -l 256 FILE</span></td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="AC-CLI.003">AC-CLI.003 Generate Committee member cold key pair (CCM)<a href="#AC-CLI.003" class="hash-link" aria-label="Direct link to AC-CLI.003 Generate Committee member cold key pair (CCM)" title="Direct link to AC-CLI.003 Generate Committee member cold key pair (CCM)">​</a></h4>
<table style="width:100%"><thead><tr><th style="width:45%">Requirements</th><th style="width:55%">Acceptance Criteria</th></tr></thead><tbody><tr><td style="width:45%"><span>The feature implementation includes a new command:<br></span><span> `cardano-cli conway governance committee key-gen-cold`</span></td><td style="width:55%"><span>The command generates Ed25519 key pair.<br></span><span> If a parameter or the command format is incorrect an error is raised</span></td></tr><tr><td style="width:45%"><span>The command includes a corresponding CLI usage describing the feature</span></td><td style="width:55%"><span>The command followed by --help,  displays command usage page showing how to use it and the types of the inputs and outputs.</span></td></tr><tr><td style="width:45%"><span>The command must include two flags to specify the path and file name of the verification and signing keys.</span></td><td style="width:55%"><span>The flags allow to easily distinguish its purpose (signing or verification). Both flags are mandatory. An error is raised if any is missing.</span></td></tr><tr><td style="width:45%"><span>Given that the user specifies a valid path and file name, then the keys are saved on that file and location.</span></td><td style="width:55%"><span>Files created on the correct path.<br></span><span> Files are in the text envelope format common across cardano-cli with the fields:<br></span><span> Type<br></span><span>Description<br></span><span> cborHex</span></td></tr><tr><td style="width:45%"><span>The signing key text envelope contains the correct type and description:</span></td><td style="width:55%"><span>Type: &quot;ConstitutionalCommitteeColdSigningKey_ed25519&quot;<br></span><span> Description: &quot;Constitutional Committee Cold Signing Key&quot;</span></td></tr><tr><td style="width:45%"><span>The verification key text envelope contains the correct type and description:</span></td><td style="width:55%"><span>Type: &quot;ConstitutionalCommitteeColdVerificationKey_ed25519&quot;<br></span><span> Description: &quot;Constitutional Committee Cold Verification Key&quot;</span></td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="AC-CLI.004">AC-CLI.004 Generate committee member hot key pair (CCM)<a href="#AC-CLI.004" class="hash-link" aria-label="Direct link to AC-CLI.004 Generate committee member hot key pair (CCM)" title="Direct link to AC-CLI.004 Generate committee member hot key pair (CCM)">​</a></h4>
<table style="width:100%"><thead><tr><th style="width:45%">Requirements</th><th style="width:55%">Acceptance Criteria</th></tr></thead><tbody><tr><td style="width:45%"><span>The feature implementation includes a new command:<br></span><span> `cardano-cli conway governance committee key-gen-hot`</span></td><td style="width:55%"><span>The command generates Ed25519 key pair.<br></span><span> If a parameter or the command format is incorrect an error is raised.</span></td></tr><tr><td style="width:45%"><span>The command includes a corresponding CLI usage describing the feature</span></td><td style="width:55%"><span>The command followed by --help,  displays command usage page showing how to use it and the types of the inputs and outputs.</span></td></tr><tr><td style="width:45%"><span>The command must include two flags to specify the path and file name of the verification and signing keys.</span></td><td style="width:55%"><span>The flags allow to easily distinguish its purpose (signing or verification). Both flags are mandatory. An error is raised if any is missing.</span></td></tr><tr><td style="width:45%"><span>Given that the user specifies a valid path and file name, then the keys are saved on that file and location.</span></td><td style="width:55%"><span>Files created on the correct path.<br></span><span> Files are in the text envelope format common across cardano-cli with the fields:<br></span><span> Type<br></span><span>Description<br></span><span> cborHex</span></td></tr><tr><td style="width:45%"><span>The signing key text envelope contains the correct type and description:</span></td><td style="width:55%"><span>Type: &quot;ConstitutionalCommitteeHotSigningKey_ed25519&quot;<br></span><span> Description: &quot;Constitutional Committee Hot Signing Key&quot;</span></td></tr><tr><td style="width:45%"><span>The verification key text envelope contains the correct type and description:</span></td><td style="width:55%"><span>Type: &quot;ConstitutionalCommitteeHotVerificationKey_ed25519&quot;<br></span><span> Description: &quot;Constitutional Committee Hot Verification Key&quot;</span></td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="AC-CLI.005">AC-CLI.005 Authorization Certificate (CCM)<a href="#AC-CLI.005" class="hash-link" aria-label="Direct link to AC-CLI.005 Authorization Certificate (CCM)" title="Direct link to AC-CLI.005 Authorization Certificate (CCM)">​</a></h4>
<table style="width:100%"><thead><tr><th style="width:45%">Requirements</th><th style="width:55%">Acceptance Criteria</th></tr></thead><tbody><tr><td style="width:45%"><span>Implement a command to create a hot key authorization certificate for governance.</span></td><td style="width:55%"><span>Running the command with accepted input parameters generates a hot key authorization certificate. If a parameter or the command format is incorrect, an error is raised.</span></td></tr><tr><td style="width:45%"><span>Include necessary options to obtain cold and hot credentials.</span></td><td style="width:55%"><span>The command allows passing credentials as follows:<br></span><span>- Cold verification key (string)<br></span><span>- Cold verification key file (file)<br></span><span>- Cold verification key hash (string)<br></span><span>- Cold Script Hash (HASH)<br></span><span>- Hot verification key (string)<br></span><span>- Hot verification key file (file)<br></span><span>- Hot verification key hash (string)<br></span><span>- Hot Script Hash (HASH)</span></td></tr><tr><td style="width:45%"><span>Generate and save a hot key authorization certificate when the command is executed with appropriate options.</span></td><td style="width:55%"><span>Given that the user specifies a valid path and file name, the command produces a Cold to Hot authorization certificate at the specified location and name.</span></td></tr><tr><td style="width:45%"><span>Ensure the hot key authorization certificate follows a specified text envelope format.</span></td><td style="width:55%"><span>The resulting certificate is in a text envelope format with fields:<br></span><span> ```json{&quot;type&quot;: &quot;CertificateConway&quot;, &quot;description&quot;: &quot;Constitutional Committee Hot Key Authorization Certificate&quot;, &quot;cborHex&quot;: &quot;&quot;}```</span></td></tr><tr><td style="width:45%"><span>The certificate must comply with the specified CDDL.</span></td><td style="width:55%"><span>Generates an authorization certificate compliant with the Conway CDDL:<br></span><span> `auth_committee_hot_cert = (14, committee_cold_credential, committee_hot_credential)`</span></td></tr><tr><td style="width:45%"><span>Handle potential errors, such as missing or invalid options, and provide appropriate error messages.</span></td><td style="width:55%"><span>The command handles potential errors, such as missing or invalid options, and provides appropriate error messages indicating the missing or required parameters. Failing to provide the right input results in a clear error message that helps the user to identify the problem.</span></td></tr><tr><td style="width:45%"><span>Provide documentation including usage, purpose, expected inputs, and outputs.</span></td><td style="width:55%"><span>Running the command with a help option displays usage information, describing the feature, its purpose, and how to use it, along with the expected types of inputs and outputs.</span></td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="AC-CLI.006">AC-CLI.006 Generate Committee Member Key Hash (CCM)<a href="#AC-CLI.006" class="hash-link" aria-label="Direct link to AC-CLI.006 Generate Committee Member Key Hash (CCM)" title="Direct link to AC-CLI.006 Generate Committee Member Key Hash (CCM)">​</a></h4>
<table style="width:100%"><thead><tr><th style="width:45%">Requirements</th><th style="width:55%">Acceptance Criteria</th></tr></thead><tbody><tr><td style="width:45%"><span>Implement a command to generate the blake2b 256 hash of a verification key.</span></td><td style="width:55%"><span>Running the command with accepted input parameters generates the blake2b 256 hash of the verification key. If a parameter or the command format is incorrect, an error is raised.</span></td></tr><tr><td style="width:45%"><span>Allow passing credentials with cold verification key or cold verification key file.</span></td><td style="width:55%"><span>Passing the cold verification key or cold verification key file is mandatory. If the key or file is of a different type, an exception is raised.</span></td></tr><tr><td style="width:45%"><span>Provide an option to save the key hash to a file, with the default behavior printing to stdout.</span></td><td style="width:55%"><span>Given that the user specifies a valid path and file name with an output file option, the key hash is saved to that file and location. If the output file option is not used, the hash is printed to stdout.</span></td></tr><tr><td style="width:45%"><span>Handle potential errors, such as missing flags or invalid input, and provide appropriate error messages or exceptions to guide the user.</span></td><td style="width:55%"><span>The command handles potential errors, such as missing or invalid flags, and provides appropriate error messages indicating the missing or required parameters. When necessary, the user is directed to the commands usage information.</span></td></tr><tr><td style="width:45%"><span>Provide documentation including usage, purpose, expected inputs, and outputs.</span></td><td style="width:55%"><span>Running the command with a help option displays usage information, describing the feature, its purpose, and how to use it, along with the expected types of inputs and outputs.</span></td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="AC-CLI.007">AC-CLI.007 Committee Member Resignation Certificate (CCM)<a href="#AC-CLI.007" class="hash-link" aria-label="Direct link to AC-CLI.007 Committee Member Resignation Certificate (CCM)" title="Direct link to AC-CLI.007 Committee Member Resignation Certificate (CCM)">​</a></h4>
<table style="width:100%"><thead><tr><th style="width:45%">Requirements</th><th style="width:55%">Acceptance Criteria</th></tr></thead><tbody><tr><td style="width:45%"><span>Implement a command to create a cold credential resignation certificate for a committee member.</span></td><td style="width:55%"><span>Running the command with accepted input parameters generates a cold credential resignation certificate. If a parameter or the command format is incorrect, an error is raised.</span></td></tr><tr><td style="width:45%"><span>Allow passing credentials via verification key, verification key file, verification key hash, and script hash.</span></td><td style="width:55%"><span>Passing the cold credential is mandatory, achieved with any of the following inputs:<br></span><span> - Cold verification key<br></span><span> - Cold verification key file<br></span><span> - Cold verification key hash<br></span><span> - Cold script file<br></span><span> If the input has the wrong format or type, an exception is raised.</span></td></tr><tr><td style="width:45%"><span>Allow an optional anchor (URL/hash) to express motives for resignation. The command does not need to check for the validity of the URL, the contents, or that the documents and declared hash match.</span></td><td style="width:55%"><span>Passing an anchor is optional and can be done using:<br></span><span> - Resignation metadata URL<br></span><span> - Resignation metadata hash<br></span><span> If the user chooses to pass an anchor, both fields must be provided. Passing only the URL or only the hash is not allowed.</span></td></tr><tr><td style="width:45%"><span>Include a mandatory flag for saving the certificate to a file.</span></td><td style="width:55%"><span>Given that a valid path and file name are specified, the certificate is saved at the specified location.</span></td></tr><tr><td style="width:45%"><span>Ensure the resignation certificate follows the text envelope format of other existing certificates, including the type, description, and CBOR hex fields. The certificate type must be `CertificateConway` and the description must be `Constitutional Committee Cold Key Resignation Certificate`.</span></td><td style="width:55%"><span>The resulting certificate is in a text envelope format consisting of a JSON object with type, description, and CBOR hex fields.<br></span><span> ```json<br></span><span>{ &quot;type&quot;: &quot;CertificateConway&quot;, &quot;description&quot;: &quot;Constitutional Committee Cold Key Resignation Certificate&quot;, &quot;cborHex&quot;: &quot;&quot; }<br></span><span>```</span></td></tr><tr><td style="width:45%"><span>Generate a resignation certificate compliant with the conway CDDL: `resign_committee_cold_cert = (15, committee_cold_credential, anchor / null)`.</span></td><td style="width:55%"><span>The CBOR hex field conforms to the conway CDDL: `resign_committee_cold_cert = (15, committee_cold_credential, anchor / null)`.</span></td></tr><tr><td style="width:45%"><span>Handle potential errors, such as missing or invalid flags or keys, and provide appropriate error messages indicating the missing or required parameters.</span></td><td style="width:55%"><span>The command handles potential errors, such as missing or invalid flags or keys, and provides appropriate error messages indicating the missing or required parameters. When necessary, the user is directed to the command usage information.</span></td></tr><tr><td style="width:45%"><span>Provide documentation, including a corresponding CLI usage, describing the feature, its purpose, and how to use it, along with the expected types of inputs and outputs.</span></td><td style="width:55%"><span>Running the command with a help option displays usage information, describing the feature, its purpose, and how to use it, along with the expected types of inputs and outputs.</span></td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="AC-CLI.008">AC-CLI.008 Generate DRep Keys (HOLDER)<a href="#AC-CLI.008" class="hash-link" aria-label="Direct link to AC-CLI.008 Generate DRep Keys (HOLDER)" title="Direct link to AC-CLI.008 Generate DRep Keys (HOLDER)">​</a></h4>
<table style="width:100%"><thead><tr><th style="width:45%">Requirements</th><th style="width:55%">Acceptance Criteria</th></tr></thead><tbody><tr><td style="width:45%"><span>Implement a command to generate an Ed25519 key pair for a DRep.</span></td><td style="width:55%"><span>Running the command with accepted input parameters generates an Ed25519 key pair. If a parameter or the command format is incorrect, an error is raised.</span></td></tr><tr><td style="width:45%"><span>Support an option to specify the file where the verification key will be saved.</span></td><td style="width:55%"><span>When valid paths and file names are specified, the verification key file is saved at the specified location. This option is mandatory; failing to provide it raises an error.</span></td></tr><tr><td style="width:45%"><span>Support an option to specify the file where the signing key will be saved.</span></td><td style="width:55%"><span>When valid paths and file names are specified, the signing key file is saved at the specified location. This option is mandatory; failing to provide it raises an error.</span></td></tr><tr><td style="width:45%"><span>Ensure the generated key files adhere to the text envelope format used for other artifacts and contain the fields Type, Description, and cborHex.</span></td><td style="width:55%"><span>The signing key text envelope contains the correct type, description, and cborHex values. Type: &quot;DRepVerificationKey_ed25519&quot;, Description: &quot;Delegate Representative Verification Key&quot;.</span></td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="AC-CLI.009">AC-CLI.009 Generate DRep ID (DREP)<a href="#AC-CLI.009" class="hash-link" aria-label="Direct link to AC-CLI.009 Generate DRep ID (DREP)" title="Direct link to AC-CLI.009 Generate DRep ID (DREP)">​</a></h4>
<table style="width:100%"><thead><tr><th style="width:45%">Requirements</th><th style="width:55%">Acceptance Criteria</th></tr></thead><tbody><tr><td style="width:45%"><span>Implement a command to generate the blake2b-224 hash digest of the serialized DRep credential (verification key).</span></td><td style="width:55%"><span>Running the command with accepted input parameters generates a DRep ID: the blake2b-224 hash digest of the verification key. If a parameter or the command format is incorrect, an error is raised.</span></td></tr><tr><td style="width:45%"><span>Support supplying the verification key through various methods, such as directly passing the key or specifying a file containing the key.</span></td><td style="width:55%"><span>The command requires the user to provide the verification key in one of the supported formats. If the key is not provided or is in an incorrect format, an error is raised.</span></td></tr><tr><td style="width:45%"><span>Support an optional flag to allow users to save the generated DRep ID to a file. The default is printing to stdout.</span></td><td style="width:55%"><span>Given that a valid path and file name are supplied, using the appropriate flag saves the DRep ID to a file at the specified location. If the specified path does not exist or is inaccessible, the command returns an error message. If the flag is not used, the DRep ID is printed to stdout.</span></td></tr><tr><td style="width:45%"><span>Provide an option to specify the output format. Accepted output formats include &quot;hex&quot; and &quot;bech32&quot;, with &quot;bech32&quot; as the default format.</span></td><td style="width:55%"><span>The command supports an optional flag for specifying the output format. When not used, the output defaults to bech32. When specified, the DRep ID is output in the chosen format.</span></td></tr><tr><td style="width:45%"><span>Handle errors gracefully and provide helpful error messages when required options are missing or invalid inputs are provided.</span></td><td style="width:55%"><span>If any required input parameter is missing or incorrect, the command raises an error indicating the missing or incorrect argument.</span></td></tr><tr><td style="width:45%"><span>Provide documentation, including corresponding CLI usage, describing the feature, its purpose, and how to use it, along with the expected types of inputs and outputs.</span></td><td style="width:55%"><span>Running the command with a help flag displays the command usage page.</span></td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="AC-CLI.010">AC-CLI.010 Generate DRep Registration Certificate (DREP)<a href="#AC-CLI.010" class="hash-link" aria-label="Direct link to AC-CLI.010 Generate DRep Registration Certificate (DREP)" title="Direct link to AC-CLI.010 Generate DRep Registration Certificate (DREP)">​</a></h4>
<table style="width:100%"><thead><tr><th style="width:45%">Requirements</th><th style="width:55%">Acceptance Criteria</th></tr></thead><tbody><tr><td style="width:45%"><span>Implement a command to generate a DRep registration certificate.</span></td><td style="width:55%"><span>Running the command with accepted input parameters generates a DRep registration certificate. If a parameter or the command format is incorrect, an error is raised.</span></td></tr><tr><td style="width:45%"><span>Require the user to provide the DRep key deposit amount.</span></td><td style="width:55%"><span>The command requires the user to provide the deposit amount in lovelace. If the deposit amount is not provided, an error is raised.</span></td></tr><tr><td style="width:45%"><span>Support providing the DRep credential through various methods such as direct input of the verification key, specifying a file containing the verification key, using the DRep ID or the Script Hash.</span></td><td style="width:55%"><span>The command requires the user to provide the DRep credential in one of the supported formats. The options for providing the DRep credential are mutually exclusive. If the credential is not provided or is in an incorrect format, an error is raised.</span></td></tr><tr><td style="width:45%"><span>Allow adding an optional anchor (URL/hash) to submit any DRep metadata.</span></td><td style="width:55%"><span>The command supports optional metadata. If metadata is provided, both the URL and hash must be supplied. If only one is provided, an error is raised. If the metadata is not provided, the field should be null in the certificate.</span></td></tr><tr><td style="width:45%"><span>Support a mandatory option to specify the file where the generated DRep registration certificate will be saved.</span></td><td style="width:55%"><span>The command requires the user to specify a file path and name for saving the certificate. If the path is invalid or not provided, an error is raised.</span></td></tr><tr><td style="width:45%"><span>Generate a registration certificate compliant with the Conway CDDL.</span></td><td style="width:55%"><span>The certificate’s CBOR hex field complies with the format specified in the Conway CDDL.<br></span><span> reg_drep_cert = (16, drep_credential, coin, anchor / null)</span></td></tr><tr><td style="width:45%"><span>Ensure the certificate is in a text envelope format containing a JSON object with fields for type, description, and cborHex.</span></td><td style="width:55%"><span>The saved certificate should be in a text envelope format, consisting of a JSON object with type, description, and cborHex fields.</span></td></tr><tr><td style="width:45%"><span>Provide clear documentation, including usage instructions.</span></td><td style="width:55%"><span>Running the command with a help flag displays usage instructions and detailed information about the command.</span></td></tr><tr><td style="width:45%"><span>Handle errors gracefully and provide helpful error messages when required options are missing or invalid inputs are provided.</span></td><td style="width:55%"><span>If any required input parameter is missing or incorrect, the command should raise an error indicating the missing or incorrect parameter.</span></td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="AC-CLI.011">AC-CLI.011 DRep Retirement Certificate (DREP)<a href="#AC-CLI.011" class="hash-link" aria-label="Direct link to AC-CLI.011 DRep Retirement Certificate (DREP)" title="Direct link to AC-CLI.011 DRep Retirement Certificate (DREP)">​</a></h4>
<table style="width:100%"><thead><tr><th style="width:45%">Requirements</th><th style="width:55%">Acceptance Criteria</th></tr></thead><tbody><tr><td style="width:45%"><span>Implement a command to generate a DRep retirement certificate.</span></td><td style="width:55%"><span>Running the command successfully generates a DRep retirement certificate with accepted input parameters.</span></td></tr><tr><td style="width:45%"><span>Require the user to provide the DRep credential for retirement, which can be supplied through various methods such as direct input of the verification key, specifying a file containing the verification key, or using the DRep ID.</span></td><td style="width:55%"><span>The command accepts credentials provided through different methods. Supplying the credential is mandatory.</span></td></tr><tr><td style="width:45%"><span>Mandatory flag for the user to input the DRep deposited amount to be returned, which must match the deposit originally paid when registering as a DRep.</span></td><td style="width:55%"><span>The flag to specify the deposit ammount is mandatory and takes the deposit amount in lovelace as an argument. Failing to use the flag or passing something different to amount in lovelace as argument raises an error.</span></td></tr><tr><td style="width:45%"><span>Support a mandatory flag to specify the file where the generated DRep retirement certificate will be saved.</span></td><td style="width:55%"><span>The flag is mandatory and takes the file path and name as an argument. If the path does not exist an error is raised.</span></td></tr><tr><td style="width:45%"><span>Ensure the retirement certificate is in a text envelope format similar to stake pools deregistration certificates.</span></td><td style="width:55%"><span>The retirement certificate should be in a text envelope format consisting of a JSON object with type, description, and CBOR hex fields: {&quot;type&quot;: &quot;CertificateConway&quot;, &quot;description&quot;: &quot;DRep Retirement Certificate&quot;,&quot;cborHex&quot;: &quot;&quot;}</span></td></tr><tr><td style="width:45%"><span>Ensure the output certificate complies with the Conway CDDL: `unreg_drep_cert = (17, drep_credential, coin)`.</span></td><td style="width:55%"><span>The cborHex field of the certificate should conform to the Conway CDDL: `unreg_drep_cert = (17, drep_credential, coin)`.</span></td></tr><tr><td style="width:45%"><span>Provide clear documentation, including usage instructions.</span></td><td style="width:55%"><span>Running the command with a help flag i.e  (`--help`) displays usage instructions and detailed information about the command.</span></td></tr><tr><td style="width:45%"><span>Handle errors gracefully and provide helpful error messages when required options are missing or invalid inputs are provided.</span></td><td style="width:55%"><span>If any required input parameter is missing or incorrect, the command raises an error indicating the missing or incorrect parameter.</span></td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="AC-CLI.012">AC-CLI.012 Generate DRep Metadata Hash (HOLDER)<a href="#AC-CLI.012" class="hash-link" aria-label="Direct link to AC-CLI.012 Generate DRep Metadata Hash (HOLDER)" title="Direct link to AC-CLI.012 Generate DRep Metadata Hash (HOLDER)">​</a></h4>
<table style="width:100%"><thead><tr><th style="width:45%">Requirements</th><th style="width:55%">Acceptance Criteria</th></tr></thead><tbody><tr><td style="width:45%"><span>Implement a command to generate the blake2b 256 hash of a DRep metadata file.</span></td><td style="width:55%"><span>Running the command successfully generates the blake2b 256 hash of the specified DRep metadata file. If a parameter or the command format is incorrect, an error is raised.</span></td></tr><tr><td style="width:45%"><span>Require the user to specify the DRep metadata file as input.</span></td><td style="width:55%"><span>The command requires users to provide the DRep metadata file as an argument or input.</span></td></tr><tr><td style="width:45%"><span>Support an optional flag or option to specify the output file for saving the calculated metadata hash.</span></td><td style="width:55%"><span>The command allows users to specify an output file using a flag or option to save the calculated metadata hash. If not specified, the hash is printed to stdout.</span></td></tr><tr><td style="width:45%"><span>Handle errors gracefully and provide helpful error messages when required inputs are missing or invalid.</span></td><td style="width:55%"><span>If any required input parameter is missing or incorrect, the command raises an error indicating the missing or incorrect parameter.</span></td></tr><tr><td style="width:45%"><span>Provide clear documentation, including usage instructions.</span></td><td style="width:55%"><span>Running the command with a help flag displays usage instructions and detailed information about the command.</span></td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="AC-CLI.013">AC-CLI.013 Create Constitution Governance Action (HOLDER)<a href="#AC-CLI.013" class="hash-link" aria-label="Direct link to AC-CLI.013 Create Constitution Governance Action (HOLDER)" title="Direct link to AC-CLI.013 Create Constitution Governance Action (HOLDER)">​</a></h4>
<table style="width:100%"><thead><tr><th style="width:45%">Requirements</th><th style="width:55%">Acceptance Criteria</th></tr></thead><tbody><tr><td style="width:45%"><span>Implement a command to create a governance action for updating the constitution.</span></td><td style="width:55%"><span>Running the command successfully creates a governance action for updating the constitution with accepted input parameters.</span></td></tr><tr><td style="width:45%"><span>Require the user to specify the target network for which the governance action is created.</span></td><td style="width:55%"><span>The command requires the user to specify the target network, allowing for either mainnet or testnet configurations.</span></td></tr><tr><td style="width:45%"><span>Prompt the user to provide the deposit amount for submitting governance actions.</span></td><td style="width:55%"><span>The command prompts the user to provide the deposit amount for submitting governance actions. The deposit amount must match the relevant protocol parameter but is only checked when submitting the transaction.</span></td></tr><tr><td style="width:45%"><span>Require the user to provide the stake credential that will receive the deposit return when the action is enacted or expired.</span></td><td style="width:55%"><span>The command allows the user to provide deposit return stake credential using various options specified by the command verification key, verification key file, verification key hash or script hash</span></td></tr><tr><td style="width:45%"><span>Allow the user to provide the transaction ID and index of the previously enacted action of this type.</span></td><td style="width:55%"><span>Optional flags are available. It is not mandatory to support the very first action of this type on the system, which does not require information about previously enacted actions.</span></td></tr><tr><td style="width:45%"><span>Ask the user to provide a mandatory anchor (URL/hash) of the proposal.</span></td><td style="width:55%"><span>The command allows the user to supply an anchor (URL/hash) using specified flags. These flags are mandatory for providing the anchor information.</span></td></tr><tr><td style="width:45%"><span>Require the user to provide an anchor of the new constitution.</span></td><td style="width:55%"><span>The command allows to pass an anchor (URL/hash) of the new constitution. Flags are mandatory. Failing to use these flags returns an error.</span></td></tr><tr><td style="width:45%"><span>Support a flag to specify the path where the output file will be saved.</span></td><td style="width:55%"><span>The command supports a flag to specify the path to the file where the generated governance action (proposal) will be saved. If the path does not exist an error is raised</span></td></tr><tr><td style="width:45%"><span>Ensure the generated governance action complies with the Conway CDDL.</span></td><td style="width:55%"><span>The generated governance action complies with the Conway CDDL specification:<br></span><span> proposal_procedure =[ deposit : coin, reward_account, gov_action, anchor]<br></span><span> gov_action = [ parameter_change_action // hard_fork_initiation_action // treasury_withdrawals_action // no_confidence // update_committee // new_constitution // info_action ]<br></span><span> new_constitution = (5, gov_action_id / null, constitution).</span></td></tr><tr><td style="width:45%"><span>Handle errors gracefully and provide helpful error messages when required options are missing or invalid inputs are provided.</span></td><td style="width:55%"><span>If any required input parameter is missing or incorrect, the command raises an error indicating the missing or incorrect parameter.</span></td></tr><tr><td style="width:45%"><span>Provide clear documentation, including usage instructions.</span></td><td style="width:55%"><span>Running the command with a help flag (`--help`) displays usage instructions and detailed information about the command.</span></td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="AC-CLI.014">AC-CLI.014 Create Constitutional Committee Governance Action (HOLDER)<a href="#AC-CLI.014" class="hash-link" aria-label="Direct link to AC-CLI.014 Create Constitutional Committee Governance Action (HOLDER)" title="Direct link to AC-CLI.014 Create Constitutional Committee Governance Action (HOLDER)">​</a></h4>
<table style="width:100%"><thead><tr><th style="width:45%">Requirements</th><th style="width:55%">Acceptance Criteria</th></tr></thead><tbody><tr><td style="width:45%"><span>Implement a command to create a governance action for updating the constitutional committee.</span></td><td style="width:55%"><span>Running the command with accepted input parameters successfully creates a governance action for updating the constitutional committee. </span></td></tr><tr><td style="width:45%"><span>Require the user to specify the target network for which the governance action is created.</span></td><td style="width:55%"><span>The command requires the user to specify the target network, allowing for either mainnet or testnet configurations.</span></td></tr><tr><td style="width:45%"><span>Prompt the user to provide the deposit amount for submitting governance actions.</span></td><td style="width:55%"><span>The command prompts the user to provide the deposit amount for submitting governance actions via a specific flag.</span></td></tr><tr><td style="width:45%"><span>Require the user to provide the stake credential that will receive the deposit return when the action is enacted or expired.</span></td><td style="width:55%"><span>The command allows the user to provide deposit return stake credential using various options specified by the command verification key, verification key file, verification key hash or script hash</span></td></tr><tr><td style="width:45%"><span>Allow the user to provide the transaction ID and index of the previously enacted action of this type.</span></td><td style="width:55%"><span>Optional flags are available to support the very first action of this type on the system, which does not require information about previously enacted actions.</span></td></tr><tr><td style="width:45%"><span>Ask the user to provide a mandatory anchor (URL/hash) of the proposal.</span></td><td style="width:55%"><span>The command allows the user to supply an anchor (URL/hash) using specified flags. These flags are mandatory for providing the anchor information.</span></td></tr><tr><td style="width:45%"><span>Provide options to remove or add constitutional committee members with associated terms in epochs.</span></td><td style="width:55%"><span>The command provides options to remove or add constitutional committee members with associated terms in epochs using specific flags.</span></td></tr><tr><td style="width:45%"><span>Allow proposing a new threshold in various scenarios.</span></td><td style="width:55%"><span>The command allows proposing a new threshold in different scenarios, including when adding or removing members or as a standalone action.</span></td></tr><tr><td style="width:45%"><span>Support a flag to specify the path where the output file will be saved.</span></td><td style="width:55%"><span>The command supports the `--out-file` flag to specify the file where the generated governance action (proposal) will be saved.</span></td></tr><tr><td style="width:45%"><span>Ensure the generated governance action complies with the Conway CDDL.</span></td><td style="width:55%"><span>The generated governance action complies with the Conway CDDL specifications:<br></span><span> `proposal_procedure = [ deposit : coin, reward_account, gov_action, anchor ]`<br></span><span> `update_committee = (4, gov_action_id / null, set&lt;committee_cold_credential&gt;, { committee_cold_credential =&gt; epoch }, unit_interval)`</span></td></tr><tr><td style="width:45%"><span>Provide clear documentation, including usage instructions.</span></td><td style="width:55%"><span>Running the command with a help flag (`--help`) displays usage instructions and detailed information about the command. If any required input parameter is missing or incorrect, the command raises an error indicating the missing or incorrect parameter.</span></td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="AC-CLI.015">AC-CLI.015 Create Treasury Withdrawal Governance Action (HOLDER)<a href="#AC-CLI.015" class="hash-link" aria-label="Direct link to AC-CLI.015 Create Treasury Withdrawal Governance Action (HOLDER)" title="Direct link to AC-CLI.015 Create Treasury Withdrawal Governance Action (HOLDER)">​</a></h4>
<table style="width:100%"><thead><tr><th style="width:45%">Requirements</th><th style="width:55%">Acceptance Criteria</th></tr></thead><tbody><tr><td style="width:45%"><span>Implement a command to create a governance action for withdrawing funds from the treasury.</span></td><td style="width:55%"><span>Running the command with accepted input parameters successfully creates a governance action for withdrawing funds from the treasury</span></td></tr><tr><td style="width:45%"><span>Require the user to specify the target network for which the governance action is created.</span></td><td style="width:55%"><span>The command requires the user to specify the target network, allowing for either mainnet or testnet configurations.</span></td></tr><tr><td style="width:45%"><span>Prompt the user to provide the deposit amount for submitting governance actions.</span></td><td style="width:55%"><span>The command prompts the user to provide the deposit amount for submitting governance actions via a specific flag.</span></td></tr><tr><td style="width:45%"><span>Require the user to provide the stake credential that will receive the deposit return when the action is enacted or expired.</span></td><td style="width:55%"><span>The command allows the user to provide deposit return stake credential using various options specified by the command verification key, verification key file, verification key hash or script hash</span></td></tr><tr><td style="width:45%"><span>Ask the user to provide a mandatory anchor (URL/hash) of the proposal.</span></td><td style="width:55%"><span>The command allows the user to supply an anchor (URL/hash) using specified flags. These flags are mandatory for providing the anchor information.</span></td></tr><tr><td style="width:45%"><span>Require the user to provide the stake credential that will receive the funds if the governance action is ratified.</span></td><td style="width:55%"><span>The user provides the stake credential that will receive the funds if the governance action is ratified using specific flags.</span></td></tr><tr><td style="width:45%"><span>Require the user to provide the amount in lovelace that will be transferred from the treasury to the stake credential if the action is ratified.</span></td><td style="width:55%"><span>The user specifies the amount in lovelace that will be transferred from the treasury to the stake credential if the action is ratified using the `--transfer` flag.</span></td></tr><tr><td style="width:45%"><span>Support a flag to specify the path where the output file will be saved.</span></td><td style="width:55%"><span>The `--out-file` flag is available to specify the file where the generated governance action (proposal) will be saved. This flag is mandatory.</span></td></tr><tr><td style="width:45%"><span>Ensure the generated governance action complies with the Conway CDDL.</span></td><td style="width:55%"><span>The generated governance action complies with the Conway CDDL specifications: `proposal_procedure = [ deposit : coin, reward_account, gov_action, anchor ]` `treasury_withdrawals_action = (2, { reward_account =&gt; coin })`</span></td></tr><tr><td style="width:45%"><span>Provide clear documentation, including usage instructions.</span></td><td style="width:55%"><span>Running the command with a help flag (`--help`) displays usage instructions and detailed information about the command. If any required input parameter is missing or incorrect, the command raises an error indicating the missing or incorrect parameter.</span></td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="AC-CLI.016">AC-CLI.016 Create Info Governance Action (HOLDER)<a href="#AC-CLI.016" class="hash-link" aria-label="Direct link to AC-CLI.016 Create Info Governance Action (HOLDER)" title="Direct link to AC-CLI.016 Create Info Governance Action (HOLDER)">​</a></h4>
<table style="width:100%"><thead><tr><th style="width:45%">Requirements</th><th style="width:55%">Acceptance Criteria</th></tr></thead><tbody><tr><td style="width:45%"><span>Implement a command to create an info governance action for updating the constitution.</span></td><td style="width:55%"><span>Running the command successfully creates an info governance action for updating the constitution with accepted input parameters.</span></td></tr><tr><td style="width:45%"><span>Require the user to specify the target network for which the governance action is created.</span></td><td style="width:55%"><span>The command requires the user to specify the target network, allowing for either mainnet or testnet configurations.</span></td></tr><tr><td style="width:45%"><span>Prompt the user to provide the deposit amount for submitting governance actions.</span></td><td style="width:55%"><span>The command prompts the user to provide the deposit amount for submitting governance actions via a specific flag.</span></td></tr><tr><td style="width:45%"><span>Require the user to provide the stake credential that will receive the deposit return when the action is enacted or expired.</span></td><td style="width:55%"><span>The command allows the user to provide deposit return stake credential using various options specified by the command verification key, verification key file, verification key hash or script hash</span></td></tr><tr><td style="width:45%"><span>Ask the user to provide a mandatory anchor (URL/hash) of the proposal, a document where the proposer exposes the reasoning behind the proposed change.</span></td><td style="width:55%"><span>The command allows the user to supply an anchor (URL/hash) using specified flags. These flags are mandatory for providing the anchor information.</span></td></tr><tr><td style="width:45%"><span>Support a flag to specify the path where the output file will be saved.</span></td><td style="width:55%"><span>The `--out-file` flag is available to specify the file where the generated governance action (proposal) will be saved.</span></td></tr><tr><td style="width:45%"><span>Ensure the generated governance action complies with the Conway CDDL.</span></td><td style="width:55%"><span>The generated governance action complies with the Conway CDDL specifications: `proposal_procedure = [ deposit : coin, reward_account, gov_action, anchor ]`, `info_action = 6`.</span></td></tr><tr><td style="width:45%"><span>Handle errors gracefully and provide helpful error messages when required options are missing or invalid inputs are provided.</span></td><td style="width:55%"><span>If any required input parameter is missing or incorrect, the command raises an error indicating the missing or incorrect parameter.</span></td></tr><tr><td style="width:45%"><span>Provide clear documentation, including usage instructions.</span></td><td style="width:55%"><span>Running the command with a help flag (`--help`) displays usage instructions and detailed information about the command. If any required input parameter is missing or incorrect, the command raises an error indicating the missing or incorrect parameter.</span></td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="AC-CLI.017">AC-CLI.017 Create Protocol Parameters Update (HOLDER)<a href="#AC-CLI.017" class="hash-link" aria-label="Direct link to AC-CLI.017 Create Protocol Parameters Update (HOLDER)" title="Direct link to AC-CLI.017 Create Protocol Parameters Update (HOLDER)">​</a></h4>
<table style="width:100%"><thead><tr><th style="width:45%">Requirements</th><th style="width:55%">Acceptance Criteria</th></tr></thead><tbody><tr><td style="width:45%"><span>Implement a command to create a protocol parameters update governance action.</span></td><td style="width:55%"><span>Running the command successfully creates a protocol parameters update governance action with accepted input parameters.</span></td></tr><tr><td style="width:45%"><span>Require the user to specify the target network for which the governance action is created.</span></td><td style="width:55%"><span>The command requires the user to specify the target network, allowing for either mainnet or testnet configurations.</span></td></tr><tr><td style="width:45%"><span>Prompt the user to provide the deposit amount for submitting governance actions.</span></td><td style="width:55%"><span>The command prompts the user to provide the deposit amount for submitting governance actions via a specific flag.</span></td></tr><tr><td style="width:45%"><span>Require the user to provide the stake credential that will receive the deposit return when the action is enacted or expired.</span></td><td style="width:55%"><span>The command allows the user to provide deposit return stake credential using various options specified by the command verification key, verification key file, verification key hash or script hash</span></td></tr><tr><td style="width:45%"><span>Allow the user to provide the transaction ID and index of the previously enacted action of this type.</span></td><td style="width:55%"><span>These flags are optional to support the very first action of this type on the system, which does not require information about previously enacted actions.</span></td></tr><tr><td style="width:45%"><span>Include dedicated flags to reference the protocol parameter that the user is attempting to modify.</span></td><td style="width:55%"><span>The command accepts flags for various protocol parameters that the user wants to modify, allowing for flexible parameter updates.</span></td></tr><tr><td style="width:45%"><span>Ask the user to provide a mandatory anchor (URL/hash) of the proposal, a document where the proposer exposes the reasoning behind the proposed change.</span></td><td style="width:55%"><span>The command allows the user to supply an anchor (URL/hash) using specified flags. These flags are mandatory for providing the anchor information.</span></td></tr><tr><td style="width:45%"><span>Support a flag to specify the path where the output file will be saved.</span></td><td style="width:55%"><span>The `--out-file` flag is available to specify the file where the generated governance action (proposal) will be saved.</span></td></tr><tr><td style="width:45%"><span>Ensure the generated governance action complies with the Conway CDDL.</span></td><td style="width:55%"><span>The generated governance action complies with the Conway CDDL specifications: `proposal_procedure = [ deposit : coin, reward_account, gov_action, anchor ]`, `parameter_change_action = (0, gov_action_id / null, protocol_param_update)`.</span></td></tr><tr><td style="width:45%"><span>Handle errors gracefully and provide helpful error messages when required options are missing or invalid inputs are provided.</span></td><td style="width:55%"><span>If any required input parameter is missing or incorrect, the command raises an error indicating the missing or incorrect parameter.</span></td></tr><tr><td style="width:45%"><span>Provide clear documentation, including usage instructions.</span></td><td style="width:55%"><span>Running the command with a help flag (`--help`) displays usage instructions and detailed information about the command. If any required input parameter is missing or incorrect, the command raises an error indicating the missing or incorrect parameter.</span></td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="AC-CLI.018">AC-CLI.018 Create No Confidence Governance Action (HOLDER)<a href="#AC-CLI.018" class="hash-link" aria-label="Direct link to AC-CLI.018 Create No Confidence Governance Action (HOLDER)" title="Direct link to AC-CLI.018 Create No Confidence Governance Action (HOLDER)">​</a></h4>
<table style="width:100%"><thead><tr><th style="width:45%">Requirements</th><th style="width:55%">Acceptance Criteria</th></tr></thead><tbody><tr><td style="width:45%"><span>Implement a command to create a no-confidence governance action with the specified parameters.</span></td><td style="width:55%"><span>Executing the command successfully creates a no-confidence governance action.</span></td></tr><tr><td style="width:45%"><span>Specify the target network for which the governance action is created.</span></td><td style="width:55%"><span>The command requires the user to specify the target network.</span></td></tr><tr><td style="width:45%"><span>Prompt the user to provide the deposit amount for submitting governance actions.</span></td><td style="width:55%"><span>The command prompts the user to provide the deposit amount.</span></td></tr><tr><td style="width:45%"><span>Require the user to provide the stake credential that will receive the deposit return when the action is enacted or expired.</span></td><td style="width:55%"><span>The command allows the user to provide deposit return stake credential using various options specified by the command verification key, verification key file, verification key hash or script hash</span></td></tr><tr><td style="width:45%"><span>Allow the user to provide the transaction ID and index of the previously enacted action of this type.</span></td><td style="width:55%"><span>Optional flags are available to support the very first action of this type.</span></td></tr><tr><td style="width:45%"><span>Request the user to provide an anchor (URL/hash) of the proposal document.</span></td><td style="width:55%"><span>The command allows the user to supply an anchor (URL/hash) using specified flags. These flags are mandatory for providing the anchor information.</span></td></tr><tr><td style="width:45%"><span>Offer a flag to specify the path for saving the output file.</span></td><td style="width:55%"><span>The flag allows specifying the file where the generated governance action will be saved.</span></td></tr><tr><td style="width:45%"><span>Ensure compliance with the Conway CDDL for the generated governance action.</span></td><td style="width:55%"><span>The generated governance action complies with the Conway CDDL where: `proposal_procedure = [ deposit : coin, reward_account, gov_action, anchor ]`, `no_confidence = (3, gov_action_id / null)`. </span></td></tr><tr><td style="width:45%"><span>Handle errors gracefully and provide helpful error messages.</span></td><td style="width:55%"><span>The command raises an error indicating the missing or incorrect parameter if any required input is missing or invalid.</span></td></tr><tr><td style="width:45%"><span>Provide comprehensive documentation for clear usage instructions.</span></td><td style="width:55%"><span>Executing the command with a help flag displays the command usage page.</span></td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="AC-CLI.019">AC-CLI.019 Create Hard-Fork Initiation Governance Action (HOLDER)<a href="#AC-CLI.019" class="hash-link" aria-label="Direct link to AC-CLI.019 Create Hard-Fork Initiation Governance Action (HOLDER)" title="Direct link to AC-CLI.019 Create Hard-Fork Initiation Governance Action (HOLDER)">​</a></h4>
<table style="width:100%"><thead><tr><th style="width:45%">Requirements</th><th style="width:55%">Acceptance Criteria</th></tr></thead><tbody><tr><td style="width:45%"><span>The command is implemented to facilitate the creation of a hard-fork initiation governance action.</span></td><td style="width:55%"><span>Executing the command successfully creates a hard-fork initiation governance action.</span></td></tr><tr><td style="width:45%"><span>Requires the user to specify the target network for which the governance action is created.</span></td><td style="width:55%"><span>The command requires the user to specify the target network for the governance action.</span></td></tr><tr><td style="width:45%"><span>Requires the user to provide the deposit amount for submitting governance actions.</span></td><td style="width:55%"><span>The command prompts the user to provide the deposit amount for submitting governance actions.</span></td></tr><tr><td style="width:45%"><span>The command requires the user to provide the stake credential for receiving the deposit return.</span></td><td style="width:55%"><span>The command allows the user to provide deposit return stake credential using various options specified by the command verification key, verification key file, verification key hash or script hash</span></td></tr><tr><td style="width:45%"><span>The command allows the user to specify information about previously enacted actions of this type, if applicable.</span></td><td style="width:55%"><span>Optional flags support providing information about previously enacted actions of this type.</span></td></tr><tr><td style="width:45%"><span>The command requires the user to provide an anchor (URL/hash) of the proposal document.</span></td><td style="width:55%"><span>The user provides an anchor (URL/hash) of the proposal document.</span></td></tr><tr><td style="width:45%"><span>The command requires the user to input the new protocol version number.</span></td><td style="width:55%"><span>The user provides the new protocol version number.</span></td></tr><tr><td style="width:45%"><span>The command has a flag to specify the path where the output file will be saved.</span></td><td style="width:55%"><span>A flag is available to specify the path where the generated governance action will be saved.</span></td></tr><tr><td style="width:45%"><span>The generated governance action complies with the CDDL specifications.</span></td><td style="width:55%"><span>The generated governance action complies with the CDDL specifications.</span></td></tr><tr><td style="width:45%"><span>The command handles errors gracefully and provides helpful error messages when required options are missing or invalid inputs are provided.</span></td><td style="width:55%"><span>The command provides clear error messages when required options are missing or invalid inputs are provided.</span></td></tr><tr><td style="width:45%"><span>The feature implementation should be well-documented, providing clear usage instructions.</span></td><td style="width:55%"><span>Running the command with `--help` displays the command usage page.</span></td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="AC-CLI.020">AC-CLI.020 View Governance Action (HOLDER)<a href="#AC-CLI.020" class="hash-link" aria-label="Direct link to AC-CLI.020 View Governance Action (HOLDER)" title="Direct link to AC-CLI.020 View Governance Action (HOLDER)">​</a></h4>
<table style="width:100%"><thead><tr><th style="width:45%">Requirements</th><th style="width:55%">Acceptance Criteria</th></tr></thead><tbody><tr><td style="width:45%"><span>A command is implemented to allow the user to inspect the content of a governance action (proposal) file and render it in human-readable format.</span></td><td style="width:55%"><span>Running the command successfully shows the content of a governance action file in a humand readable format.</span></td></tr><tr><td style="width:45%"><span>The command has a flag to specify the path where the output file will be saved.</span></td><td style="width:55%"><span>The `--out-file` flag is available to specify the file where the generated governance action (proposal) will be saved.</span></td></tr><tr><td style="width:45%"><span>Gives an option to select the output format (json or yaml).</span></td><td style="width:55%"><span>The `--output json` and `--output yaml` flags are available to select the output format. By default if no flag is picked, the JSON format will be applied.</span></td></tr><tr><td style="width:45%"><span>The command handles errors gracefully and provides helpful error messages when required options are missing or invalid inputs are provided.</span></td><td style="width:55%"><span>If any required input parameter is missing or incorrect, the command raises an error indicating the missing or incorrect parameter.</span></td></tr><tr><td style="width:45%"><span>The feature implementation should be well-documented, providing clear usage instructions.</span></td><td style="width:55%"><span>Running `cardano-cli conway governance action view --help` displays the command usage page.</span></td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="AC-CLI.021">AC-CLI.021 Create Governance Vote (SPO, DREP, CCM)<a href="#AC-CLI.021" class="hash-link" aria-label="Direct link to AC-CLI.021 Create Governance Vote (SPO, DREP, CCM)" title="Direct link to AC-CLI.021 Create Governance Vote (SPO, DREP, CCM)">​</a></h4>
<table style="width:100%"><thead><tr><th style="width:45%">Requirements</th><th style="width:55%">Acceptance Criteria</th></tr></thead><tbody><tr><td style="width:45%"><span>A command is implemented that allows creating votes on governance actions.</span></td><td style="width:55%"><span>Running the command with the accepted parameteres succesfully creates a vote file for it to be included in a transaction.</span></td></tr><tr><td style="width:45%"><span>The command provides a way to vote yes, no abstain.</span></td><td style="width:55%"><span>The command supports the mutually exclusive and mandatory flags `–yes`, ` –no` and ` –abstain` to express the direction of the vote.</span></td></tr><tr><td style="width:45%"><span>Requires to specify the governance action ID and index that the vote is about. The cli will not verify on real time the existence of the governance action. It is only at submission time when the node (ledger) validates the existence of the governance action.</span></td><td style="width:55%"><span>The command includes mandatory flags to indicate what governance action (ID and INDEX) the vote corresponds to. Failing to provide any of these flags returns an error message.</span></td></tr><tr><td style="width:45%"><span>Requires the user to provide DRep, SPO or CC credential.</span></td><td style="width:55%"><span>Drep can pass credentials using ANY of:<br></span><span> -DRep verification key<br></span><span> -DRep verification key file<br></span><span> -DRep key hash (drep-id)<br></span><span> -DRep script hash.<br></span><span> Stake pool operators can pass credentials using ANY of:<br></span><span>  -Cold verificaiton key<br></span><span> -Cold verification key file<br></span><span> -Stake pool ID.<br></span><span> Committee members can pass credentials using ANY of:<br></span><span> -Hot verification key<br></span><span> -Hot verification key file<br></span><span> -Hot verification key hash <br></span><span> -Hot script hash.</span></td></tr><tr><td style="width:45%"><span>The command allows the user to provide an anchor (url / hash). A document where the proposer exposes the reasoning behind thir vote.</span></td><td style="width:55%"><span>The command offers optional flags that allow the user to add an anchor (URL/hash) to their vote. Providing an anchor is optional, but if one flag is used then the second is mandatory. It is not allowed to only privide a URL or only a HASH. </span></td></tr><tr><td style="width:45%"><span>The command has a flag to specify the path where the output file will be saved.</span></td><td style="width:55%"><span>The `--out-file` flag is available to specify the file where the vote for a governance action will be saved.</span></td></tr><tr><td style="width:45%"><span>The resulting vote follows the cddl specification.</span></td><td style="width:55%"><span>The resulting vote follows the cddl specification where:<br></span><span>`voting_procedures = { + voter =&gt; { + gov_action_id =&gt; voting_procedure } }`, `voting_procedure = [ vote, anchor / null ]; no - 0; yes - 1; abstain - 2; vote = 0 .. 2`</span></td></tr><tr><td style="width:45%"><span>The command handles errors gracefully and provides helpful error messages when required options are missing or invalid inputs are provided.</span></td><td style="width:55%"><span>If any required input parameter is missing or incorrect, the command raises an error indicating the missing or incorrect parameter.</span></td></tr><tr><td style="width:45%"><span>The feature implementation should be well-documented, providing clear usage instructions.</span></td><td style="width:55%"><span>Running `cardano-cli conway governance vote create --help` displays the command usage page.</span></td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="AC-CLI.022">AC-CLI.022 View Governance Vote (SPO, DREP, CCM)<a href="#AC-CLI.022" class="hash-link" aria-label="Direct link to AC-CLI.022 View Governance Vote (SPO, DREP, CCM)" title="Direct link to AC-CLI.022 View Governance Vote (SPO, DREP, CCM)">​</a></h4>
<table style="width:100%"><thead><tr><th style="width:45%">Requirements</th><th style="width:55%">Acceptance Criteria</th></tr></thead><tbody><tr><td style="width:45%"><span>The command is implemented to facilitate inspecting governance votes before adding them to a transaction.</span></td><td style="width:55%"><span>Running the command successfully shows the content of a governance action file.</span></td></tr><tr><td style="width:45%"><span>The command takes a vote file as an input.</span></td><td style="width:55%"><span>The input mechanism allows for the passing of a vote file.</span></td></tr><tr><td style="width:45%"><span>Gives an option to select the output format (json or yaml).</span></td><td style="width:55%"><span>The output format can be specified to be either YAML or JSON. Providing any other argument results in an error.</span></td></tr><tr><td style="width:45%"><span>The command has an optional flag to specify the path where the output file will be saved.</span></td><td style="width:55%"><span>A flag is available to specify the path where the output file will be saved. If flag is not used the output is sent to stdout.</span></td></tr><tr><td style="width:45%"><span>The output shows the information of the proposal based on the voting procedures in a human readable format (english).</span></td><td style="width:55%"><span>The output provides human-readable information about the voting procedures, including voter credentials, governance action IDs, anchors, and decisions (yes, no, or abstain).</span></td></tr><tr><td style="width:45%"><span>The command handles errors gracefully and provides helpful error messages when required options are missing or invalid inputs are provided.</span></td><td style="width:55%"><span>If any required input parameter is missing or incorrect, the command raises an error indicating the missing or incorrect parameter.</span></td></tr><tr><td style="width:45%"><span>The feature implementation should be well-documented, providing clear usage instructions.</span></td><td style="width:55%"><span>Running the command with `--help` displays the command usage page.</span></td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="AC-CLI.023">AC-CLI.023 Transaction BUILD with Proposal Input (HOLDER)<a href="#AC-CLI.023" class="hash-link" aria-label="Direct link to AC-CLI.023 Transaction BUILD with Proposal Input (HOLDER)" title="Direct link to AC-CLI.023 Transaction BUILD with Proposal Input (HOLDER)">​</a></h4>
<table style="width:100%"><thead><tr><th style="width:45%">Requirements</th><th style="width:55%">Acceptance Criteria</th></tr></thead><tbody><tr><td style="width:45%"><span>Transaction build includes a mechanism to incorporate a proposal file into the transaction body.</span></td><td style="width:55%"><span>An ADA holder can include a proposal in a transaction by passing the proposal file in the transaction body.</span></td></tr><tr><td style="width:45%"><span>When constructing a transaction body that includes a proposal, the resulting tx body conforms to the conway cddl so that proposal procedures are recorded with the tag 20.</span></td><td style="width:55%"><span>The generated transaction body complies with the Conway CDDL where: transaction_body = { <br></span><span> 0 : set&lt;transaction_input&gt; ; inputs , <br></span><span> 1 : [* transaction_output] , <br></span><span> 2 : coin ; fee , <br></span><span> ? 3 : uint ; time to live , <br></span><span> ? 4 : certificates , <br></span><span> ? 5 : withdrawals , <br></span><span> ? 7 : auxiliary_data_hash , <br></span><span> ? 8 : uint ; validity interval start , <br></span><span> ? 9 : mint , <br></span><span> ? 11 : script_data_hash , <br></span><span> ? 13 : nonempty_set&lt;transaction_input&gt; ; collateral inputs , <br></span><span> ? 14 : required_signers , <br></span><span> ? 15 : network_id , <br></span><span> ? 16 : transaction_output ; collateral return , <br></span><span> ? 17 : coin ; total collateral , <br></span><span> ? 18 : nonempty_set&lt;transaction_input&gt; ; reference inputs , <br></span><span> ? 19 : voting_procedures ; New; Voting procedures , <br></span><span> ? 20 : proposal_procedures ; New; Proposal procedures , <br></span><span> ? 21 : coin ; New; current treasury value , <br></span><span> ? 22 : positive_coin ; New; donation }</span></td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="AC-CLI.024">AC-CLI.024 Transaction BUILD with Vote Input (SPO, DREP, CCM)<a href="#AC-CLI.024" class="hash-link" aria-label="Direct link to AC-CLI.024 Transaction BUILD with Vote Input (SPO, DREP, CCM)" title="Direct link to AC-CLI.024 Transaction BUILD with Vote Input (SPO, DREP, CCM)">​</a></h4>
<table style="width:100%"><thead><tr><th style="width:45%">Requirements</th><th style="width:55%">Acceptance Criteria</th></tr></thead><tbody><tr><td style="width:45%"><span>Transaction build includes a mechanism to incorporate a vote file into the transaction body.</span></td><td style="width:55%"><span>A DRep, SPO, or CC member can include their vote in a transaction by passing a vote file in the transaction build command.</span></td></tr><tr><td style="width:45%"><span>When constructing a transaction body that includes a vote, the resulting tx body conforms to the conway cddl so that voting procedures are recorded with the tag 19.</span></td><td style="width:55%"><span>When constructing a transaction body that includes a vote, the resulting tx body conforms to the Conway CDDL where: transaction_body = { <br></span><span> 0 : set&lt;transaction_input&gt; ; inputs , <br></span><span> 1 : [* transaction_output] , <br></span><span> 2 : coin ; fee , <br></span><span> ? 3 : uint ; time to live , <br></span><span> ? 4 : certificates , <br></span><span> ? 5 : withdrawals , <br></span><span> ? 7 : auxiliary_data_hash , <br></span><span> ? 8 : uint ; validity interval start , <br></span><span> ? 9 : mint , <br></span><span> ? 11 : script_data_hash , <br></span><span> ? 13 : nonempty_set&lt;transaction_input&gt; ; collateral inputs , <br></span><span> ? 14 : required_signers , <br></span><span> ? 15 : network_id , <br></span><span> ? 16 : transaction_output ; collateral return , <br></span><span> ? 17 : coin ; total collateral , <br></span><span> ? 18 : nonempty_set&lt;transaction_input&gt; ; reference inputs , <br></span><span> ? 19 : voting_procedures ; New; Voting procedures , <br></span><span> ? 20 : proposal_procedures ; New; Proposal procedures , <br></span><span> ? 21 : coin ; New; current treasury value , <br></span><span> ? 22 : positive_coin ; New; donation }</span></td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="AC-CLI.025">AC-CLI.025 Transaction BUILD-RAW with Proposal Input (HOLDER)<a href="#AC-CLI.025" class="hash-link" aria-label="Direct link to AC-CLI.025 Transaction BUILD-RAW with Proposal Input (HOLDER)" title="Direct link to AC-CLI.025 Transaction BUILD-RAW with Proposal Input (HOLDER)">​</a></h4>
<table style="width:100%"><thead><tr><th style="width:45%">Requirements</th><th style="width:55%">Acceptance Criteria</th></tr></thead><tbody><tr><td style="width:45%"><span>Transaction build-raw includes a mechanism to incorporate a proposal file into the transaction body.</span></td><td style="width:55%"><span>An ADA Holder can include a proposal in a transaction by passing the proposal file in the transaction body.</span></td></tr><tr><td style="width:45%"><span>When constructing a transaction body that includes a proposal, the resulting tx body conforms to the conway cddl so that voting procedures are recorded with the tag 19..</span></td><td style="width:55%"><span>The generated transaction body complies with the Conway CDDL where: transaction_body = { <br></span><span> 0 : set&lt;transaction_input&gt; ; inputs , <br></span><span> 1 : [* transaction_output] , <br></span><span> 2 : coin ; fee , <br></span><span> ? 3 : uint ; time to live , <br></span><span> ? 4 : certificates , <br></span><span> ? 5 : withdrawals , <br></span><span> ? 7 : auxiliary_data_hash , <br></span><span> ? 8 : uint ; validity interval start , <br></span><span> ? 9 : mint , <br></span><span> ? 11 : script_data_hash , <br></span><span> ? 13 : nonempty_set&lt;transaction_input&gt; ; collateral inputs , <br></span><span> ? 14 : required_signers , <br></span><span> ? 15 : network_id , <br></span><span> ? 16 : transaction_output ; collateral return , <br></span><span> ? 17 : coin ; total collateral , <br></span><span> ? 18 : nonempty_set&lt;transaction_input&gt; ; reference inputs , <br></span><span> ? 19 : voting_procedures ; New; Voting procedures , <br></span><span> ? 20 : proposal_procedures ; New; Proposal procedures , <br></span><span> ? 21 : coin ; New; current treasury value , <br></span><span> ? 22 : positive_coin ; New; donation }</span></td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="AC-CLI.026">AC-CLI.026 Transaction BUILD-RAW with Vote Input (SPO, DREP, CCM)<a href="#AC-CLI.026" class="hash-link" aria-label="Direct link to AC-CLI.026 Transaction BUILD-RAW with Vote Input (SPO, DREP, CCM)" title="Direct link to AC-CLI.026 Transaction BUILD-RAW with Vote Input (SPO, DREP, CCM)">​</a></h4>
<table style="width:100%"><thead><tr><th style="width:45%">Requirements</th><th style="width:55%">Acceptance Criteria</th></tr></thead><tbody><tr><td style="width:45%"><span>Transaction build-raw includes a mechanism to incorporate a vote file into the transaction body.</span></td><td style="width:55%"><span>A DRep, SPO, or CC member can include their vote in a transaction by passing a vote file in the transaction body.</span></td></tr><tr><td style="width:45%"><span>When constructing a transaction body that includes a vote, the resulting tx body conforms to the conway cddl so that voting procedures are recorded with the tag 19.</span></td><td style="width:55%"><span>When constructing a transaction body that includes a vote, the resulting tx body conforms to the Conway CDDL where: transaction_body = { <br></span><span> 0 : set&lt;transaction_input&gt; ; inputs , <br></span><span> 1 : [* transaction_output] , <br></span><span> 2 : coin ; fee , <br></span><span> ? 3 : uint ; time to live , <br></span><span> ? 4 : certificates , <br></span><span> ? 5 : withdrawals , <br></span><span> ? 7 : auxiliary_data_hash , <br></span><span> ? 8 : uint ; validity interval start , <br></span><span> ? 9 : mint , <br></span><span> ? 11 : script_data_hash , <br></span><span> ? 13 : nonempty_set&lt;transaction_input&gt; ; collateral inputs , <br></span><span> ? 14 : required_signers , <br></span><span> ? 15 : network_id , <br></span><span> ? 16 : transaction_output ; collateral return , <br></span><span> ? 17 : coin ; total collateral , <br></span><span> ? 18 : nonempty_set&lt;transaction_input&gt; ; reference inputs , <br></span><span> ? 19 : voting_procedures ; New; Voting procedures , <br></span><span> ? 20 : proposal_procedures ; New; Proposal procedures , <br></span><span> ? 21 : coin ; New; current treasury value , <br></span><span> ? 22 : positive_coin ; New; donation }</span></td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="AC-CLI.027">AC-CLI.027 Create stake registration certificate New format (HOLDER)<a href="#AC-CLI.027" class="hash-link" aria-label="Direct link to AC-CLI.027 Create stake registration certificate New format (HOLDER)" title="Direct link to AC-CLI.027 Create stake registration certificate New format (HOLDER)">​</a></h4>
<table style="width:100%"><thead><tr><th style="width:45%">Requirements</th><th style="width:55%">Acceptance Criteria</th></tr></thead><tbody><tr><td style="width:45%"><span>Allows the user to provide credentials in various forms: Stake verification key, Stake verification key file, Stake address, Stake script file.</span></td><td style="width:55%"><span>The command accepts the following and executes with the expected outcome: Stake verification key, Stake verification key file, Stake address, Stake script hash. Using one of these is mandatory.</span></td></tr><tr><td style="width:45%"><span>Requires the user to provide the required key deposit in lovelace.</span></td><td style="width:55%"><span>ADA Holder can pass the key deposit in lovelace using the following flag <br></span><span> `--key-reg-deposit-amt` (NATURAL). The argument is a decimal; providing any other type of input will result in an exception (no implicit conversion). Not providing the flag and its argument generates an exception.</span></td></tr><tr><td style="width:45%"><span>The command has a flag to specify the path where the output file will be saved.</span></td><td style="width:55%"><span>The `--out-file` flag is available to specify the file where the vote for a governance action will be saved.</span></td></tr><tr><td style="width:45%"><span>The command handles errors gracefully and provides helpful error messages when required options are missing or invalid inputs are provided.</span></td><td style="width:55%"><span>If any required input parameter is missing or incorrect, the command raises an error indicating the missing or incorrect parameter.</span></td></tr><tr><td style="width:45%"><span>The certificate should be saved in a text envelope format.</span></td><td style="width:55%"><span>Given that the certificate is saved, it is in a text envelope format consisting of a JSON object with type, description, and cbor hex fields, where: <br></span><span> { &quot;type&quot;: &quot;CertificateConway&quot;, &quot;description&quot;: &quot;Stake Address Registration Certificate&quot;, &quot;cborHex&quot;: &quot;&quot;}.</span></td></tr><tr><td style="width:45%"><span>The resulting certificate conforms with the conway cddl.</span></td><td style="width:55%"><span>The resulting certificate conforms with the conway cddl, where <br></span><span> `reg_cert = (7, stake_credential, coin)`.</span></td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="AC-CLI.028">AC-CLI.028 Create stake deregistration certificate (HOLDER)<a href="#AC-CLI.028" class="hash-link" aria-label="Direct link to AC-CLI.028 Create stake deregistration certificate (HOLDER)" title="Direct link to AC-CLI.028 Create stake deregistration certificate (HOLDER)">​</a></h4>
<table style="width:100%"><thead><tr><th style="width:45%">Requirements</th><th style="width:55%">Acceptance Criteria</th></tr></thead><tbody><tr><td style="width:45%"><span>Allows the user to provide credentials in any of the following forms: Stake verification key, Stake verification key file, Stake address, Stake script hash.</span></td><td style="width:55%"><span>The command accepts any of Stake verification key, Stake verification key file, Stake address, Stake script hash. Using one of these is mandatory.</span></td></tr><tr><td style="width:45%"><span>Requires the user to provide key deposit (in lovelace) that was paid by the target stake credential when it registered.</span></td><td style="width:55%"><span>ADA Holder can pass the key deposit in lovelace using the following flag <br></span><span> `--key-reg-deposit-amt` (NATURAL); the argument is a decimal number, providing any other type (i.e. hex, binary) results in an exception (no implicit conversion). Not providing the flag and its argument generates an exception.</span></td></tr><tr><td style="width:45%"><span>The command has a flag to specify the path where the output file will be saved.</span></td><td style="width:55%"><span>The `--out-file` flag is available to specify the file where the vote for a governance action will be saved.</span></td></tr><tr><td style="width:45%"><span>The command handles errors gracefully and provides helpful error messages when required options are missing or invalid inputs are provided.</span></td><td style="width:55%"><span>If any required input parameter is missing or incorrect, the command raises an error indicating the missing or incorrect parameter.</span></td></tr><tr><td style="width:45%"><span>The certificate should be saved in a text envelope format.</span></td><td style="width:55%"><span>Given that the deregistration certificate is saved, it is in a text envelope format consisting of a JSON object with type, description, and cbor hex fields, where: <br></span><span> { &quot;type&quot;: &quot;CertificateConway&quot;, &quot;description&quot;: &quot;Stake Address Deregistration Certificate&quot;, &quot;cborHex&quot;: &quot;&quot;}.</span></td></tr><tr><td style="width:45%"><span>The resulting certificate conforms with the conway cddl.</span></td><td style="width:55%"><span>The resulting certificate conforms with the conway cddl, where <br></span><span> `unreg_cert = (8, stake_credential, coin)`.</span></td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="AC-CLI.029">AC-CLI.029 Delegate vote to DRep (HOLDER)<a href="#AC-CLI.029" class="hash-link" aria-label="Direct link to AC-CLI.029 Delegate vote to DRep (HOLDER)" title="Direct link to AC-CLI.029 Delegate vote to DRep (HOLDER)">​</a></h4>
<table style="width:100%"><thead><tr><th style="width:45%">Requirements</th><th style="width:55%">Acceptance Criteria</th></tr></thead><tbody><tr><td style="width:45%"><span>Allows the user to provide credentials in any of the following forms: Stake verification key, Stake verification key file, Stake address, Stake script file.</span></td><td style="width:55%"><span>The command accepts the following and executes with the expected outcome: <br></span><span> Stake verification key (STRING), <br></span><span> Stake verification key file (FILE), <br></span><span> Stake address (ADDRESS), <br></span><span> Stake script file (FILE). Using one of these is mandatory.</span></td></tr><tr><td style="width:45%"><span>When delegating to a registered DRep, the user can provide the target DRep with: DRep script hash, DRep verification key, DRep verification key file, DRep key hash (DRep ID).</span></td><td style="width:55%"><span>The command accepts the following and executes with the expected outcome: <br></span><span> DRep script hash (HASH), <br></span><span> DRep verification key (STRING), <br></span><span> DRep verification key file (FILE), <br></span><span> DRep key hash (HASH). Using one of these is mandatory.</span></td></tr><tr><td style="width:45%"><span>When delegating to a default DRep the user can use a flag to select either always-abstain or always-no-confidence, but not both.</span></td><td style="width:55%"><span>The command accepts the following and executes with the expected outcome: <br></span><span> Always-abstain flag XOR <br></span><span> Always-no-confidence flag. Using one of these is mandatory.</span></td></tr><tr><td style="width:45%"><span>The command has a flag to specify the path where the output file will be saved.</span></td><td style="width:55%"><span>The output file path flag is available to specify the file where the vote for a governance action will be saved.</span></td></tr><tr><td style="width:45%"><span>The command handles errors gracefully and provides helpful error messages when required options are missing or invalid inputs are provided.</span></td><td style="width:55%"><span>If any required input parameter is missing or incorrect, the command raises an error indicating the missing or incorrect parameter.</span></td></tr><tr><td style="width:45%"><span>The certificate should be saved in a text envelope format.</span></td><td style="width:55%"><span>Given that the deregistration certificate is saved, it is in a text envelope format consisting of a JSON object with type, description, and cbor hex fields, where: <br></span><span> { &quot;type&quot;: &quot;CertificateConway&quot;, &quot;description&quot;: &quot;Vote Delegation Certificate&quot;, &quot;cborHex&quot;: &quot;&quot;}.</span></td></tr><tr><td style="width:45%"><span>The resulting certificate conforms with the conway cddl.</span></td><td style="width:55%"><span>The resulting certificate conforms with the conway cddl, where <br></span><span> `vote_deleg_cert = (9, stake_credential, drep)`.</span></td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="AC-CLI.030">AC-CLI.030 Delegate stake to SPO and votes to DRep with a single certificate (HOLDER)<a href="#AC-CLI.030" class="hash-link" aria-label="Direct link to AC-CLI.030 Delegate stake to SPO and votes to DRep with a single certificate (HOLDER)" title="Direct link to AC-CLI.030 Delegate stake to SPO and votes to DRep with a single certificate (HOLDER)">​</a></h4>
<table style="width:100%"><thead><tr><th style="width:45%">Requirements</th><th style="width:55%">Acceptance Criteria</th></tr></thead><tbody><tr><td style="width:45%"><span>Allows the user to provide credentials in any of the following forms: Stake verification key, Stake verification key file, Stake address, Stake script file.</span></td><td style="width:55%"><span>The command accepts the following and executes with the expected outcome: <br></span><span> - Stake verification key (STRING) <br></span><span> - Stake verification key file (FILE) <br></span><span> - Stake address (ADDRESS) <br></span><span> - Stake script file (FILE). At least one of these is mandatory.</span></td></tr><tr><td style="width:45%"><span>The user can provide the target stake pool with: Stake pool cold verification key, Stake pool cold verification key file, Stake pool ID.</span></td><td style="width:55%"><span>The command accepts the following and executes with the expected outcome: <br></span><span> - Stake pool cold verification key (STRING) <br></span><span> - Stake pool cold verification key file (FILE) <br></span><span> - Stake pool ID (STAKE_POOL_ID). At least one of these is mandatory.</span></td></tr><tr><td style="width:45%"><span>Allows the user to provide the target DRep credential with: DRep script hash, DRep verification key, DRep verification key file, DRep key hash (Drep ID).</span></td><td style="width:55%"><span>The command accepts the following and executes with the expected outcome: <br></span><span> - DRep script hash (HASH) <br></span><span> - DRep verification key (STRING) <br></span><span> - DRep verification key file (FILE) <br></span><span> - DRep key hash (HASH). At least one of these is mandatory.</span></td></tr><tr><td style="width:45%"><span>When delegating to a default DRep the user can use a flag to select either always-abstain or always-no-confidence, but not both.</span></td><td style="width:55%"><span>The command accepts the following and executes with the expected outcome: <br></span><span> - Always-abstain flag XOR <br></span><span> - Always-no-confidence flag. Using one of these is mandatory.</span></td></tr><tr><td style="width:45%"><span>The command has a flag to specify the path where the output file will be saved.</span></td><td style="width:55%"><span>The output file path flag is available to specify the file where the vote for a governance action will be saved.</span></td></tr><tr><td style="width:45%"><span>The command handles errors gracefully and provides helpful error messages when required options are missing or invalid inputs are provided.</span></td><td style="width:55%"><span>If any required input parameter is missing or incorrect, the command raises an error indicating the missing or incorrect parameter.</span></td></tr><tr><td style="width:45%"><span>The certificate should be saved in a text envelope format.</span></td><td style="width:55%"><span>The certificate should be saved in a text envelope format: <br></span><span> { &quot;type&quot;: &quot;CertificateConway&quot;, &quot;description&quot;: &quot;Stake and Vote Delegation Certificate&quot;, &quot;cborHex&quot;: &quot;&quot; }.</span></td></tr><tr><td style="width:45%"><span>The resulting certificate conforms with the Conway CDDL.</span></td><td style="width:55%"><span>The resulting certificate conforms with the Conway CDDL, where <br></span><span> `stake_vote_deleg_cert = (10, stake_credential, pool_keyhash, drep)`.</span></td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="AC-CLI.031">AC-CLI.031 Query governance state (ANY)<a href="#AC-CLI.031" class="hash-link" aria-label="Direct link to AC-CLI.031 Query governance state (ANY)" title="Direct link to AC-CLI.031 Query governance state (ANY)">​</a></h4>
<table style="width:100%"><thead><tr><th style="width:45%">Requirements</th><th style="width:55%">Acceptance Criteria</th></tr></thead><tbody><tr><td style="width:45%"><span>The new command is implemented as `cardano-cli conway query gov-state`.</span></td><td style="width:55%"><span>Running `cardano-cli conway query gov-state` dumps the entire governance state.</span></td></tr><tr><td style="width:45%"><span>The command requires the user to specify the network id (mainnet or testnet magic).</span></td><td style="width:55%"><span>The flags `--mainnet` and `--testnet-magic` are used to specify the network id.</span></td></tr><tr><td style="width:45%"><span>The command has the flag `--out-file` to specify the file where the output will be saved.</span></td><td style="width:55%"><span>The optional `--out-file` flag is available to specify the file where the governance state dump will be saved.</span></td></tr><tr><td style="width:45%"><span>The output is a JSON showing, at least, the following information: Commitee Members, Proposals, Votes, Expired Actions, Enacted Actions.</span></td><td style="width:55%"><span>The output is in a JSON format so that it can be further processed programmatically.</span></td></tr><tr><td style="width:45%"><span>The command handles errors gracefully and provides helpful error messages when required options are missing or invalid inputs are provided.</span></td><td style="width:55%"><span>If any required input parameter is missing or incorrect, the command raises an error indicating the missing or incorrect parameter. The command requires a connection to the node, an exception is raised if there is none.</span></td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="AC-CLI.032">AC-CLI.032 Query committee state (ANY)<a href="#AC-CLI.032" class="hash-link" aria-label="Direct link to AC-CLI.032 Query committee state (ANY)" title="Direct link to AC-CLI.032 Query committee state (ANY)">​</a></h4>
<table style="width:100%"><thead><tr><th style="width:45%">Requirements</th><th style="width:55%">Acceptance Criteria</th></tr></thead><tbody><tr><td style="width:45%"><span>The command is implemented as `cardano-cli conway query committee-state`.</span></td><td style="width:55%"><span>Running `cardano-cli conway query committee-state` returns the map of committee member key hashes and the current state.</span></td></tr><tr><td style="width:45%"><span>Requires the user to provide the network id.</span></td><td style="width:55%"><span>The flags `--mainnet` and `--testnet-magic` are used to specify the network id.</span></td></tr><tr><td style="width:45%"><span>Supports a query for a specific CC credential: CC cold verification key, CC cold verification key file, CC cold verification key hash, CC hot verification key, CC hot verification key file, CC hot verification key hash.</span></td><td style="width:55%"><span>The command allows querying the committee state with either cold or hot credentials of a target committee member, so that running `cardano-cli conway query committee-state` with any of the flags: `--cold-verification-key STRING`, `--cold-verification-key-file FILE`, `--cold-verification-key-hash STRING`, `--hot-key STRING`, `--hot-key-file FILE`, `--hot-key-hash STRING` returns the state of the target committee member. The command allows zero to many credentials.</span></td></tr><tr><td style="width:45%"><span>When no CC key is specified, the command outputs information for all committee members.</span></td><td style="width:55%"><span>Running `cardano-cli conway query committee-state` without any credential flags returns the state of all committee members.</span></td></tr><tr><td style="width:45%"><span>The command allows filtering by active, expired, and unrecognized members (registered hot keys to an unknown CC cold key).</span></td><td style="width:55%"><span>The command supports the flags `--active`, `--expired`, and `--unrecognized` to filter committee members by their current status.</span></td></tr><tr><td style="width:45%"><span>The output is a JSON showing the following information: Cold key hash, Hot credential status (Authorized/NotAuthorized). When Authorized, it shows the hot key hash, Status (Active, Expired, Unrecognized), Expiration epoch, Current epoch, Quorum.</span></td><td style="width:55%"><span>The output is in a JSON format so that it can be further processed programmatically. `{&quot;committee&quot;: {&quot;keyHash-&quot;: {&quot;expiration&quot;:, &quot;hotCredsAuthStatus&quot;: {&quot;tag&quot;: &quot;&quot;},&quot;nextEpochChange&quot;: &quot;&quot;,&quot;status&quot;: &quot;&quot;}}, &quot;epoch&quot;:,&quot;quorum&quot;: }`</span></td></tr><tr><td style="width:45%"><span>The command has a flag to specify the path where the output file will be saved.</span></td><td style="width:55%"><span>The `--out-file` flag is available to specify the file where the committee state dump will be saved.</span></td></tr><tr><td style="width:45%"><span>The command handles errors gracefully and provides helpful error messages when required options are missing or invalid inputs are provided.</span></td><td style="width:55%"><span>If any required input parameter is missing or incorrect, the command raises an error indicating the missing or incorrect parameter.</span></td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="AC-CLI.033">AC-CLI.033 Query DRep state (ANY)<a href="#AC-CLI.033" class="hash-link" aria-label="Direct link to AC-CLI.033 Query DRep state (ANY)" title="Direct link to AC-CLI.033 Query DRep state (ANY)">​</a></h4>
<table style="width:100%"><thead><tr><th style="width:45%">Requirements</th><th style="width:55%">Acceptance Criteria</th></tr></thead><tbody><tr><td style="width:45%"><span>The command is implemented as `cardano-cli conway query drep-state`.</span></td><td style="width:55%"><span>Running `cardano-cli conway query drep-state` returns the map of drep key hashes and the current state.</span></td></tr><tr><td style="width:45%"><span>Requires the user to provide the network id.</span></td><td style="width:55%"><span>The flags &quot;mainnet&quot; and &quot;testnet-magic&quot; are used to specify the network id.</span></td></tr><tr><td style="width:45%"><span>Supports a query for a specific DRep credential: DRep verification key, DRep verification key file, DRep verification key hash (DRep ID).</span></td><td style="width:55%"><span>Running &quot;cardano-cli conway query drep-stake-distribution&quot; with any of the following: DRep verification key, DRep verification key file, or DRep verification key hash (DRep ID) returns the stake delegated to that DRep. The command allows zero to many credentials.</span></td></tr><tr><td style="width:45%"><span>If no DRep credential is specified it returns all DReps.</span></td><td style="width:55%"><span>When no DRep credential is supplied, the command returns the state of all DReps.</span></td></tr><tr><td style="width:45%"><span>The command has a flag to specify the path where the output file will be saved.</span></td><td style="width:55%"><span>The &quot;out-file&quot; flag is available to specify the file where the vote for a governance action will be saved.</span></td></tr><tr><td style="width:45%"><span>The output is a JSON showing the following information: DRep Key hash, Anchor (DRep metadata), Deposit, Expiry (from DRep activity).</span></td><td style="width:55%"><span>The output is in a JSON format so that it can be further processed programmatically. `{ &quot;keyHash&quot;: &quot;&quot; }, { &quot;anchor&quot;: { &quot;dataHash&quot;: &quot;&quot;, &quot;url&quot;: &quot;&quot; }, &quot;deposit&quot;:, &quot;expiry&quot;: }`</span></td></tr><tr><td style="width:45%"><span>The command handles errors gracefully and provides helpful error messages when required options are missing or invalid inputs are provided.</span></td><td style="width:55%"><span>If any required input parameter is missing or incorrect, the command raises an error indicating the missing or incorrect parameter. The command requires a connection to the node, an exception is raised if there is none.</span></td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="AC-CLI.034">AC-CLI.034 Query DRep stake distribution (ANY)<a href="#AC-CLI.034" class="hash-link" aria-label="Direct link to AC-CLI.034 Query DRep stake distribution (ANY)" title="Direct link to AC-CLI.034 Query DRep stake distribution (ANY)">​</a></h4>
<table style="width:100%"><thead><tr><th style="width:45%">Requirements</th><th style="width:55%">Acceptance Criteria</th></tr></thead><tbody><tr><td style="width:45%"><span>The command is implemented as `cardano-cli conway query drep-stake-distribution`.</span></td><td style="width:55%"><span>Running `cardano-cli conway query drep-stake-distribution` returns the map of DRep key hashes and the current voting stake delegated to each, including default DReps.</span></td></tr><tr><td style="width:45%"><span>Requires the user to provide the network id.</span></td><td style="width:55%"><span>The flags &quot;mainnet&quot; and &quot;testnet-magic&quot; are used to specify the network id.</span></td></tr><tr><td style="width:45%"><span>Supports a query for a specific DRep credential: DRep verification key, DRep verification key file, DRep verification key hash (DRep ID).</span></td><td style="width:55%"><span>Running `cardano-cli conway query drep-stake-distribution` with any of the following: DRep verification key, DRep verification key file, or DRep verification key hash (DRep ID) returns the stake delegated to that DRep. The command allows zero to many credentials.</span></td></tr><tr><td style="width:45%"><span>The command has the flag `--out-file` to specify the file where the output will be saved.</span></td><td style="width:55%"><span>The `--out-file` flag is available to specify the file where the stake distribution output will be saved.</span></td></tr><tr><td style="width:45%"><span>The output is a JSON showing the following information: DRep Key hash an total stake delegated to this DRep.</span></td><td style="width:55%"><span>The output is in a JSON format so that it can be further processed programmatically.</span></td></tr><tr><td style="width:45%"><span>The command handles errors gracefully and provides helpful error messages when required options are missing or invalid inputs are provided.</span></td><td style="width:55%"><span>If any required input parameter is missing or incorrect, the command raises an error indicating the missing or incorrect parameter. The command requires a connection to the node, an exception is raised if there is none.</span></td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="AC-CLI.035">AC-CLI.035 Expand query stake-address-info to show deposits and vote delegation (HOLDER)<a href="#AC-CLI.035" class="hash-link" aria-label="Direct link to AC-CLI.035 Expand query stake-address-info to show deposits and vote delegation (HOLDER)" title="Direct link to AC-CLI.035 Expand query stake-address-info to show deposits and vote delegation (HOLDER)">​</a></h4>
<table style="width:100%"><thead><tr><th style="width:45%">Requirements</th><th style="width:55%">Acceptance Criteria</th></tr></thead><tbody><tr><td style="width:45%"><span>Expand the command &quot;query stake-address-info&quot; to return the DRep id of the DRep that the stake credential is delegated to and the value of the existing deposits.</span></td><td style="width:55%"><span>The command returns: Stake-address, Rewards account balance, Stake pool it is delegated to (stakeDelegation, null if it isn’t), DRep it is delegated to (voteDelegation, null if it isn’t), Stake key deposit, Cumulative governance action deposits.</span></td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="ac-cli036">AC-CLI.036<a href="#ac-cli036" class="hash-link" aria-label="Direct link to AC-CLI.036" title="Direct link to AC-CLI.036">​</a></h3>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="title-wip-scripts-as-drep-holder">Title: (WIP) Scripts as DRep (HOLDER)<a href="#title-wip-scripts-as-drep-holder" class="hash-link" aria-label="Direct link to Title: (WIP) Scripts as DRep (HOLDER)" title="Direct link to Title: (WIP) Scripts as DRep (HOLDER)">​</a></h3>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="user-story">User Story<a href="#user-story" class="hash-link" aria-label="Direct link to User Story" title="Direct link to User Story">​</a></h3>
<p>As an ada holder I want to register a native or a Plutus script as a DRep.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="functional-requirements">Functional requirements<a href="#functional-requirements" class="hash-link" aria-label="Direct link to Functional requirements" title="Direct link to Functional requirements">​</a></h3>
<table><thead><tr><th style="text-align:left">Requirements</th><th style="text-align:left">Acceptance Criteria</th></tr></thead><tbody><tr><td style="text-align:left"></td><td style="text-align:left"></td></tr><tr><td style="text-align:left"></td><td style="text-align:left"></td></tr><tr><td style="text-align:left"></td><td style="text-align:left"></td></tr><tr><td style="text-align:left"></td><td style="text-align:left"></td></tr><tr><td style="text-align:left"></td><td style="text-align:left"></td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="ac-cli0">AC-CLI.0<a href="#ac-cli0" class="hash-link" aria-label="Direct link to AC-CLI.0" title="Direct link to AC-CLI.0">​</a></h3>
<table style="width:100%"><thead><tr><th style="width:45%">Column 1 Header</th><th style="width:55%">Column 2 Header</th></tr></thead><tbody><tr><td style="width:45%"><span>Row 1, Cell 1</span></td><td style="width:55%"><span>Row 1, Cell 2</span></td></tr><tr><td style="width:45%"><span>Row 2, Cell 1</span></td><td style="width:55%"><span>Row 2, Cell 2</span></td></tr></tbody></table></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/cardano-test-plans/cli-stories"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Cardano-cli user stories</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/cardano-test-plans/voltaire"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">GovTool user stories</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#ac-cli036" class="table-of-contents__link toc-highlight">AC-CLI.036</a></li><li><a href="#title-wip-scripts-as-drep-holder" class="table-of-contents__link toc-highlight">Title: (WIP) Scripts as DRep (HOLDER)</a></li><li><a href="#user-story" class="table-of-contents__link toc-highlight">User Story</a></li><li><a href="#functional-requirements" class="table-of-contents__link toc-highlight">Functional requirements</a></li><li><a href="#ac-cli0" class="table-of-contents__link toc-highlight">AC-CLI.0</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://discord.gg/z5pURn74N5" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://twitter.com/Cardano_CF" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter Cardano Foundation<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://twitter.com/InputOutputHK" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter IntersectMBO<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://twitter.com/InputOutputHK" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter IOG<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/IntersectMBO" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Legal</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/IntersectMBO" target="_blank" rel="noopener noreferrer" class="footer__link-item">Disclaimer<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © IntersectMBO 2024</div></div></div></footer></div>
</body>
</html>